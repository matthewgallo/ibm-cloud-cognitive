//
// Copyright IBM Corp. 2020, 2021
//
// This source code is licensed under the Apache-2.0 license found in the
// LICENSE file in the root directory of this source tree.
//

@import '../../global/styles/project-settings';

@import 'carbon-components/scss/components/button/button';
@import 'carbon-components/scss/components/overflow-menu/overflow-menu';

@include exports($name: combo-button) {
  /// Sets the prefix for all IBM Security-specific classes.
  /// @access private
  /// @type String
  $c4p--prefix: #{$pkg-prefix};

  .#{$c4p--prefix}--combo-button {
    position: relative;
    display: inline-flex;
  }

  .#{$c4p--prefix}--combo-button__action {
    @include text-overflow;
  }

  .#{$c4p--prefix}--combo-button .#{$c4p--prefix}--combo-button__overflow-menu {
    width: carbon--mini-units($count: 6);
    height: auto;
    border-left: carbon--rem($px: 1px) solid $ui-03;
    background-color: $interactive-01;
  }

  .#{$c4p--prefix}--combo-button
    .#{$prefix}--overflow-menu-options[data-floating-menu-direction='bottom']::after {
    visibility: hidden;
  }

  .#{$c4p--prefix}--combo-button__overflow-menu.#{$prefix}--overflow-menu:hover,
  .#{$c4p--prefix}--combo-button__overflow-menu.#{$prefix}--overflow-menu--open,
  .#{$c4p--prefix}--combo-button__overflow-menu.#{$prefix}--overflow-menu.#{$prefix}--overflow-menu--open,
  .#{$c4p--prefix}--combo-button__overflow-menu.#{$prefix}--overflow-menu.#{$prefix}--overflow-menu--open:hover {
    background-color: $hover-primary;
  }

  .#{$c4p--prefix}--combo-button__overflow-menu.#{$prefix}--overflow-menu:active {
    background-color: $active-primary;
  }

  .#{$c4p--prefix}--combo-button__overflow-menu__icon {
    fill: $icon-03;
    pointer-events: none;
  }

  .#{$c4p--prefix}--combo-button__overflow-menu__list {
    width: 100%;
  }

  .#{$c4p--prefix}--combo-button__overflow-menu__list:after {
    display: none;
  }

  .#{$c4p--prefix}--combo-button__overflow-menu__item {
    max-width: none;
  }

  .#{$c4p--prefix}--combo-button__overflow-menu__item__icon {
    margin-left: auto;
  }
}
